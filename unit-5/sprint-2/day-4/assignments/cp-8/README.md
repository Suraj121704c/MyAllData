## React Redux Thunk with Mock Server

#### Problem Statement

Create the following application the boilerplate code provided .

## Submission Instructions [Please note]

## Maximum Marks - 10

- The Submission should not contain spaces, for example /rct-101 folder/eval will not work
- Do not push node_modules and package_lock.json to github

```
 ✅ able to submit the app - 1 mark ( minimum score )
 ✅ should have basic structure  - 1 mark
 ✅ Should get initial todos by GET request - 3 marks
 ✅ check if the customMiddleware function can handle dispatched functions instead of action objects- 0.5 marks
 ✅ check if the customMiddleware function can handle dispatched action objects - 0.5 marks
 ✅ should add todo, by chaining POST request, and GET request together - 4 marks
```

## Installation

- you can use any node version that works for you ( 14+ )
- please make sure you do not push package-lock.json

- Download and unzip the boilerplate file and then copy the "**contents**" of the unzipped file in the Masai Folder.
- Navigate to the Masai Folder, in VS Code.
- Run the following commands inside,
  - `npm install`
  - `npm start`
  - `npm run server` -> to start the json-server
- **_Note_**:

1. Libraries needs to be installed by yourself
2. Make sure that the json-server is up and running at port `8080`
3. Create a .env file. Include `REACT_APP_JSON_SERVER_PORT=8080` in it
4. Use `http://localhost:${process.env.REACT_APP_JSON_SERVER_PORT}` as the json-server url where ever you use `http://localhost:8080`

### Not following the above instructions will lead your testcases to fail

#### Steps

### Understanding Component Structure

- src
  - App.jsx
  - App.css
  - Components
    - Todo.jsx
    - TodoInput.jsx
    - TodoList.jsx
  - index.js
- cypress
  - e2e
    - react-redux-thunk.cy.js (test file)

### JSON Data:

- db.json file is included in the boilerplate zip file, with the initial todos data. **Do not overwrite/modify this data**

### Features to build:

## TodoInput.jsx

- This Component should have
  - an input with `data-testid = todo-input`
  - a button with text `Add Todo` and data-testid =`todo-add-btn`
- On clicking the button, call the addTodo function, by passing it inside the dispatch function, with the todo payload, as the argument.
- After successfully adding the todo, make a GET request, to fetch all the data, by dipsatching the getTodos function.
- the task object should have the following fields

  ```
    {
      title: the task typed in input filed,
      status:false
    }
   id will be generated by mock server by default
  ```

## Todo.jsx

- on page loads make a GET request (use axios) to fetch all the data present in the db.json file.

## TodoList.jsx

- Get the Todo data from the Redux store.
- map through the Todo array and display the task name along with the status
- the parent div which holds all the todos should have data-testid = `todos-list-wrapper`
- the div that holds the todos should have data-testid=`single-todo` attribute.

  - eg., Learn Redux - False

  ![](https://i.imgur.com/9Wq1Nt0.png)

## store.js

- Create a custom Middleware to check if an action is a function and if it is, invoke the action, and pass the dispatch methods into it
- else, return next(action)
- a user should be able to dispatch functions/async methods in the following manner:

```dispatch( getTodos() )
//pseudo code
function getTodos = payload => dispatch => {
    dispatch request
    return axios(config)
        .then(res => dispatch success)
        .catch(err => dispatch error)
}
```

### General Instructions:

- Do not remove `data-testid=’xxx’` from anywhere inside the code. They are the test inputs, removing them, may lead to low scores.
- Do not change the current folder structure, and names of components provided.
- Only use the data present in the db.json file, and do not modify the data in the json file.

#### General guidelines

- The system on cp.masaischool.com may take between 1-20 minutes for responding,
- so we request you to read the problem carefully and debug before itself
- we also request you not to just submit it last minute
- try to keep one submission at a time
